FROM node:16-alpine

# Set working directory
WORKDIR /usr/src/app

# Install dependencies
COPY package*.json ./
RUN npm install

# Add Truffle globally
RUN npm install -g truffle

# Copy project files
COPY . .

# Expose a port (if needed for a UI later)
EXPOSE 3000

# Default command
CMD ["sh"]